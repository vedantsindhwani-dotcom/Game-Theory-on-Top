<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Theory Lab ¬∑ blue edition</title>
    <!-- Google Fonts & Font Awesome -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300;14..32,400;14..32,600;14..32,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(145deg, #b8e1ff 0%, #dbeafe 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #1e293b;
        }

        .app {
            max-width: 1200px;
            width: 100%;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(8px);
            border-radius: 48px;
            box-shadow: 0 20px 40px -10px rgba(0, 80, 150, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.6);
            overflow: hidden;
        }

        /* Top navigation */
        .top-nav {
            background: #ffffffcc;
            backdrop-filter: blur(4px);
            padding: 15px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            border-bottom: 2px solid #3b82f6;
        }
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(145deg, #1e4b8f, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .nav-items {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        .nav-item {
            background: transparent;
            border: none;
            padding: 10px 20px;
            border-radius: 40px;
            font-weight: 600;
            color: #1e4b8f;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid transparent;
        }
        .nav-item i {
            font-size: 1.1rem;
        }
        .nav-item:hover {
            background: #e6f0ff;
            border-color: #3b82f6;
        }
        .nav-item.active {
            background: #3b82f6;
            color: white;
            box-shadow: 0 4px 10px #3b82f680;
        }

        /* Main content */
        .main {
            padding: 30px 35px;
        }

        .experiment {
            display: none;
        }
        .experiment.active {
            display: block;
        }

        .scenario {
            background: white;
            border-radius: 32px;
            padding: 30px 35px;
            margin-bottom: 25px;
            box-shadow: 0 15px 30px -12px rgba(30, 75, 140, 0.2);
            border: 1px solid #cbd5e1;
        }
        .scenario h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #1e4b8f;
            margin-bottom: 15px;
        }
        .scenario p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #2a1c44;
            margin-bottom: 20px;
        }
        .scenario .case-highlight {
            background: #f0f9ff;
            border-left: 6px solid #3b82f6;
            padding: 20px 25px;
            border-radius: 24px;
            font-style: italic;
            margin: 20px 0;
        }
        .experiment-description {
            background: #e6f0ff;
            border-radius: 16px;
            padding: 15px 20px;
            margin-bottom: 20px;
            font-size: 1rem;
            color: #1e4b8f;
            border: 1px dashed #3b82f6;
        }

        .decision-area {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 32px;
            padding: 30px 35px;
            box-shadow: 0 10px 20px -8px rgba(30, 75, 140, 0.15);
        }
        .decision-area h3 {
            font-size: 1.4rem;
            color: #1e4b8f;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-group {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 20px;
            background: #f0f9ff;
            border-radius: 60px;
            padding: 8px 8px 8px 28px;
            margin: 20px 0;
            border: 1px solid #3b82f6;
        }
        .input-group label {
            font-weight: 600;
            color: #1e4b8f;
            font-size: 1rem;
        }
        .input-group input {
            border: none;
            background: white;
            padding: 14px 20px;
            border-radius: 50px;
            width: 140px;
            font-size: 1.1rem;
            font-weight: 600;
            text-align: center;
            border: 1px solid #3b82f6;
            outline: none;
        }
        .input-group input:focus {
            border-color: #1e4b8f;
            box-shadow: 0 0 0 3px #3b82f640;
        }

        .btn {
            background: #3b82f6;
            border: none;
            color: white;
            font-weight: 600;
            padding: 14px 32px;
            border-radius: 60px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            border: 1px solid #1e4b8f;
            box-shadow: 0 5px 0 #1e4b8f;
        }
        .btn:hover {
            background: #1e4b8f;
            transform: translateY(-3px);
            box-shadow: 0 8px 0 #0f2b4f;
        }
        .btn:active {
            transform: translateY(5px);
            box-shadow: 0 0 0 #1e4b8f;
        }

        .result-box {
            background: white;
            border-radius: 28px;
            padding: 25px 30px;
            margin-top: 30px;
            font-size: 1.05rem;
            line-height: 1.7;
            color: #1e293b;
            border: 1px solid #3b82f6;
            box-shadow: inset 0 2px 8px #f0f9ff, 0 10px 15px -10px #3b82f6;
        }
        .result-box h4 {
            color: #1e4b8f;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .button-row {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .choice-btn {
            background: #f0f9ff;
            border: 2px solid #3b82f6;
            color: #1e4b8f;
            font-weight: 700;
            padding: 14px 30px;
            border-radius: 60px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: 0.1s;
            flex: 1 1 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .choice-btn:hover {
            background: #dbeafe;
        }
        .choice-btn.selected {
            background: #3b82f6;
            color: white;
            border-color: #1e4b8f;
        }

        /* Footer with credits */
        .footer {
            background: #ffffffcc;
            backdrop-filter: blur(4px);
            padding: 20px 30px;
            text-align: center;
            border-top: 2px solid #3b82f6;
        }
        .credits-heading {
            font-size: 0.9rem;
            text-transform: uppercase;
            color: #1e4b8f;
            letter-spacing: 1px;
            margin-bottom: 5px;
            font-weight: 600;
        }
        .credits {
            font-size: 1rem;
            color: #1e293b;
            line-height: 1.6;
        }
        .credits span {
            font-weight: 700;
            color: #1e4b8f;
            display: inline-block;
        }
        .credits span:not(:last-child)::after {
            content: " ¬∑ ";
            color: #3b82f6;
            font-weight: 400;
        }
        .footer-note {
            font-size: 0.8rem;
            color: #64748b;
            margin-top: 10px;
        }

        @media (max-width: 700px) {
            .top-nav {
                flex-direction: column;
                gap: 10px;
            }
            .main { padding: 20px; }
        }
    </style>
</head>
<body>
<div class="app">
    <!-- Top Navigation -->
    <div class="top-nav">
        <div class="logo">üé≤ THEORY LAB</div>
        <div class="nav-items">
            <button class="nav-item active" data-experiment="pd">
                <i class="fas fa-handcuffs"></i> Prisoner's Dilemma
            </button>
            <button class="nav-item" data-experiment="auction">
                <i class="fas fa-gavel"></i> English Auction
            </button>
            <button class="nav-item" data-experiment="bargain">
                <i class="fas fa-scale-balanced"></i> Nash Bargaining
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main">
        <!-- PRISONER'S DILEMMA -->
        <div id="pd" class="experiment active">
            <div class="scenario">
                <h2>‚öñÔ∏è Prisoner's Dilemma</h2>
                <div class="experiment-description">
                    <i class="fas fa-info-circle"></i> <strong>What it tests:</strong> Whether individuals cooperate or act in their own self‚Äëinterest, and how this affects group outcomes.
                </div>
                <p>You and a classmate are working on a group project that could win a ‚Çπ10,000 scholarship. Each of you can either <strong>share resources</strong> (cooperate) or <strong>keep everything to yourself</strong> (defect).</p>
                <div class="case-highlight">
                    <p><strong>üéì The Group Project Dilemma</strong><br>
                    ‚Ä¢ If both share, the project is excellent and you split the scholarship equally: ‚Çπ5,000 each.<br>
                    ‚Ä¢ If you share but your partner keeps resources, you do all the work and get ‚Çπ0, while your partner gets ‚Çπ8,000 (because they used your work plus their own).<br>
                    ‚Ä¢ If you keep resources and your partner shares, you get ‚Çπ8,000 and they get ‚Çπ0.<br>
                    ‚Ä¢ If both keep resources, the project is mediocre and you each get a consolation prize of ‚Çπ2,000.</p>
                </div>
                <p><strong>Your choice:</strong> Share resources or keep them. Your partner decides simultaneously.</p>
            </div>
            <div class="decision-area">
                <h3><i class="fas fa-question-circle"></i> What do you do?</h3>
                <div class="button-row">
                    <button id="pdCooperate" class="choice-btn"><i class="fas fa-handshake"></i> Share</button>
                    <button id="pdDefect" class="choice-btn"><i class="fas fa-hand-fist"></i> Keep</button>
                </div>
                <div id="pdResult" class="result-box">
                    <h4>üìò Game theory insight</h4>
                    <p>Choose an option to see the analysis.</p>
                </div>
            </div>
        </div>

        <!-- ENGLISH AUCTION -->
        <div id="auction" class="experiment">
            <div class="scenario">
                <h2>üî® English Auction</h2>
                <div class="experiment-description">
                    <i class="fas fa-info-circle"></i> <strong>What it tests:</strong> How people bid when they have private information about an item‚Äôs value, and the risk of overpaying (winner‚Äôs curse).
                </div>
                <p>You are at an auction for a limited‚Äëedition cricket bat signed by a famous player. Its true value to you (what you could resell it for) is random ‚Äì between ‚Çπ1,000 and ‚Çπ10,000. A rival collector (computer) is also bidding.</p>
                <div class="case-highlight">
                    <p><strong>üèè The Signed Bat Auction</strong><br>
                    Your private valuation is shown below. You bid against a computer that bids randomly up to its own valuation. The highest bidder wins and pays their bid. If you win, your profit = valuation ‚àí your bid. If you lose, you get nothing.</p>
                </div>
                <p><strong>Your private valuation: ‚Çπ<span id="auctionValueDisplay">??</span></strong> (changes each round)</p>
            </div>
            <div class="decision-area">
                <h3><i class="fas fa-gavel"></i> Place your bid (‚Çπ)</h3>
                <div class="input-group">
                    <label for="auctionBid">Your bid (1000‚Äë10000)</label>
                    <input type="number" id="auctionBid" min="1000" max="10000" step="100" value="4000">
                </div>
                <button class="btn" id="auctionSubmit"><i class="fas fa-gavel"></i> Submit bid</button>
                <div id="auctionResult" class="result-box">
                    <h4>üìò Game theory insight</h4>
                    <p>Place a bid to see the outcome and optimal strategy.</p>
                </div>
            </div>
        </div>

        <!-- NASH BARGAINING -->
        <div id="bargain" class="experiment">
            <div class="scenario">
                <h2>ü§ù Nash Bargaining</h2>
                <div class="experiment-description">
                    <i class="fas fa-info-circle"></i> <strong>What it tests:</strong> How two parties negotiate the division of a surplus, and how hidden ‚Äúwalk‚Äëaway‚Äù thresholds affect the outcome.
                </div>
                <p>Two startups, <strong>TechNovate</strong> (you) and <strong>InnoSys</strong> (the other), are merging. The combined entity will generate ‚Çπ10,00,000 in synergies. You must agree on how to split this amount.</p>
                <div class="case-highlight">
                    <p><strong>üíº The Merger Negotiation</strong><br>
                    You propose a share of the ‚Çπ10,00,000 for your firm. InnoSys has a secret reservation price ‚Äì the minimum they will accept (a random number between ‚Çπ0 and ‚Çπ10,00,000). If your demand is ‚â§ their reservation, the deal is accepted and you get what you demanded; they get the rest. If your demand is too high, negotiations collapse and both get nothing.</p>
                </div>
                <p><strong>What share (in ‚Çπ) do you demand?</strong></p>
            </div>
            <div class="decision-area">
                <h3><i class="fas fa-hand-holding-heart"></i> Your demand (‚Çπ)</h3>
                <div class="input-group">
                    <label for="bargainDemand">Demand (0‚Äë10,00,000)</label>
                    <input type="number" id="bargainDemand" min="0" max="1000000" step="10000" value="400000">
                </div>
                <button class="btn" id="bargainSubmit"><i class="fas fa-hand"></i> Propose split</button>
                <div id="bargainResult" class="result-box">
                    <h4>üìò Game theory insight</h4>
                    <p>Enter a demand to see the bargaining outcome.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer with credits -->
    <div class="footer">
        <div class="credits-heading">üì¢ PUBLISHED BY</div>
        <div class="credits">
            <span>Yug Manral 2324295</span>
            <span>Aradhya Tripathy 2324218</span>
            <span>Saksham Mohanty 2324269</span>
            <span>Ameya Jamwal 2324212</span>
        </div>
        <div class="footer-note">
            <i class="fas fa-flask"></i> No data collected ¬∑ interactive learning
        </div>
    </div>
</div>

<script>
    // Navigation
    const navItems = document.querySelectorAll('.nav-item');
    const experiments = document.querySelectorAll('.experiment');

    navItems.forEach(item => {
        item.addEventListener('click', () => {
            navItems.forEach(nav => nav.classList.remove('active'));
            experiments.forEach(exp => exp.classList.remove('active'));
            item.classList.add('active');
            const target = item.getAttribute('data-experiment');
            document.getElementById(target).classList.add('active');
        });
    });

    // ========== PRISONER'S DILEMMA ==========
    let pdChoice = null;
    document.getElementById('pdCooperate').addEventListener('click', () => {
        pdChoice = 'cooperate';
        document.querySelectorAll('#pd .choice-btn').forEach(btn => btn.classList.remove('selected'));
        document.getElementById('pdCooperate').classList.add('selected');
    });
    document.getElementById('pdDefect').addEventListener('click', () => {
        pdChoice = 'defect';
        document.querySelectorAll('#pd .choice-btn').forEach(btn => btn.classList.remove('selected'));
        document.getElementById('pdDefect').classList.add('selected');
    });

    function playPD() {
        if (!pdChoice) { alert('Please select an action first.'); return; }
        const other = Math.random() < 0.5 ? 'cooperate' : 'defect';
        let yourProfit, otherProfit;
        if (pdChoice === 'cooperate' && other === 'cooperate') { yourProfit = 5000; otherProfit = 5000; }
        else if (pdChoice === 'cooperate' && other === 'defect') { yourProfit = 0; otherProfit = 8000; }
        else if (pdChoice === 'defect' && other === 'cooperate') { yourProfit = 8000; otherProfit = 0; }
        else { yourProfit = 2000; otherProfit = 2000; }

        const yourAction = pdChoice === 'cooperate' ? 'shared resources' : 'kept resources';
        const otherAction = other === 'cooperate' ? 'shared' : 'kept';

        let analysis = '';
        if (pdChoice === 'defect' && other === 'defect') {
            analysis = 'Both kept resources ‚Äì the worst collective outcome. Game theory predicts that rational players will keep resources (the Nash equilibrium), even though sharing would have been better for both.';
        } else if (pdChoice === 'cooperate' && other === 'cooperate') {
            analysis = 'Both shared ‚Äì the best mutual outcome. But is it stable? Each of you had an incentive to free‚Äëride by keeping resources. This illustrates the tension between individual and collective rationality.';
        } else if (pdChoice === 'cooperate' && other === 'defect') {
            analysis = 'You shared while your partner kept resources ‚Äì you were exploited. This shows the risk of trusting others without commitment.';
        } else {
            analysis = 'You kept resources while your partner shared ‚Äì you gained at their expense. This is the individualistic rational choice, but it hurts the relationship.';
        }

        document.getElementById('pdResult').innerHTML = `
            <h4>üìò Outcome & Analysis</h4>
            <p><strong>You ${yourAction}.</strong> Your partner ${otherAction}.</p>
            <p><strong>Your prize:</strong> ‚Çπ${yourProfit}  ¬∑  <strong>Partner's prize:</strong> ‚Çπ${otherProfit}</p>
            <p>${analysis}</p>
        `;
    }

    const pdSubmit = document.createElement('button');
    pdSubmit.className = 'btn';
    pdSubmit.innerHTML = '<i class="fas fa-check"></i> See result';
    pdSubmit.style.marginTop = '20px';
    pdSubmit.addEventListener('click', playPD);
    document.querySelector('#pd .decision-area').appendChild(pdSubmit);

    // ========== ENGLISH AUCTION ==========
    function randomValue(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    let currentUserValue = randomValue(1000, 10000);
    document.getElementById('auctionValueDisplay').innerText = currentUserValue;

    document.getElementById('auctionSubmit').addEventListener('click', () => {
        const userBid = parseInt(document.getElementById('auctionBid').value);
        if (isNaN(userBid) || userBid < 1000 || userBid > 10000) {
            alert('Bid must be between ‚Çπ1000 and ‚Çπ10000');
            return;
        }

        const compValue = randomValue(1000, 10000);
        const compBid = randomValue(1000, compValue); // computer bids up to its value

        let outcome, profit = 0;
        if (userBid > compBid) {
            outcome = 'win';
            profit = currentUserValue - userBid;
        } else if (compBid > userBid) {
            outcome = 'lose';
        } else {
            if (Math.random() < 0.5) {
                outcome = 'win';
                profit = currentUserValue - userBid;
            } else {
                outcome = 'lose';
            }
        }

        let insight = '';
        if (outcome === 'win') {
            if (profit > 0) insight = 'Congratulations ‚Äì you made a profit! Your bid was below the bat‚Äôs true value to you.';
            else if (profit < 0) insight = 'You won, but at a loss. This is the "winner‚Äôs curse" ‚Äì paying more than the item is worth.';
            else insight = 'You broke even ‚Äì your bid exactly matched your valuation.';
        } else {
            insight = 'You lost. In game theory, the optimal strategy is to bid your true value, no higher. That ensures you never overpay.';
        }

        document.getElementById('auctionResult').innerHTML = `
            <h4>üìò Auction outcome</h4>
            <p><strong>Your valuation:</strong> ‚Çπ${currentUserValue} ¬∑ <strong>Your bid:</strong> ‚Çπ${userBid} ¬∑ <strong>Competitor's bid:</strong> ‚Çπ${compBid}</p>
            <p><strong>Result:</strong> You ${outcome === 'win' ? 'WON' : 'LOST'}. ${outcome === 'win' ? `Profit: ‚Çπ${profit}` : ''}</p>
            <p>${insight}</p>
            <p style="margin-top:10px;"><i>Tip:</i> In a private‚Äëvalue auction, bidding your true valuation is a dominant strategy ‚Äì it maximises your expected profit.</p>
        `;

        currentUserValue = randomValue(1000, 10000);
        document.getElementById('auctionValueDisplay').innerText = currentUserValue;
    });

    // ========== NASH BARGAINING ==========
    document.getElementById('bargainSubmit').addEventListener('click', () => {
        const demand = parseInt(document.getElementById('bargainDemand').value);
        if (isNaN(demand) || demand < 0 || demand > 1000000) {
            alert('Demand must be between ‚Çπ0 and ‚Çπ10,00,000');
            return;
        }

        const threshold = randomValue(0, 1000000);
        const accepted = demand <= threshold;
        const payoff = accepted ? demand : 0;

        let explanation = '';
        if (accepted) {
            explanation = `Your demand (‚Çπ${demand}) was within InnoSys's secret reservation price (‚Çπ${threshold}). The merger is accepted ‚Äì your firm gets ‚Çπ${demand}, InnoSys gets ‚Çπ${1000000 - demand}.`;
            if (demand > 700000) explanation += ' A very high demand succeeded, but it was risky.';
            else if (demand < 300000) explanation += ' A modest demand is almost always safe, but you leave money on the table.';
        } else {
            explanation = `Your demand (‚Çπ${demand}) exceeded InnoSys's reservation price (‚Çπ${threshold}). Negotiations collapse ‚Äì both get nothing.`;
            if (demand > 900000) explanation += ' Extremely high demands are likely to be rejected.';
            else explanation += ' Even moderate demands can fail if the other party has a low reservation price.';
        }

        document.getElementById('bargainResult').innerHTML = `
            <h4>üìò Bargaining result</h4>
            <p><strong>Your demand:</strong> ‚Çπ${demand} ¬∑ <strong>InnoSys's reservation:</strong> ‚Çπ${threshold}</p>
            <p><strong>Outcome:</strong> ${accepted ? '‚úÖ ACCEPTED' : '‚ùå REJECTED'} ‚Äì your firm gets ‚Çπ${payoff}.</p>
            <p>${explanation}</p>
            <p style="margin-top:10px;"><i>Insight:</i> In Nash bargaining, the optimal demand balances your gain against the risk of rejection. The other party‚Äôs reservation price (disagreement point) determines the bargaining range.</p>
        `;
    });

    // Enter key
    document.getElementById('auctionBid').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') document.getElementById('auctionSubmit').click();
    });
    document.getElementById('bargainDemand').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') document.getElementById('bargainSubmit').click();
    });
</script>
</body>
</html>